{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/zelin/project/adminx/src/app/blog/components/sidebar.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Story } from '@/lib/posts';\nimport './sidebar.css';\n\ninterface SidebarProps {\n  stories: Story[];\n  onSelectPost: (title: string) => void;\n}\n\nconst Sidebar: React.FC<SidebarProps> = ({ stories, onSelectPost }) => {\n  const [selectedType, setSelectedType] = useState('All');\n  const [recommendedStory, setRecommendedStory] = useState<Story | null>(null);\n\n  // Get unique story types\n  const articleTypes = ['All', ...new Set(stories.map(story => story.topic))];\n\n  // Filter stories by selected type\n  const filteredStories = selectedType === 'All'\n    ? stories\n    : stories.filter(story => story.topic === selectedType);\n\n  // Helper function to truncate content\n  const truncateContent = (content: string, maxLength: number) => {\n    if (content.length <= maxLength) {\n      return content;\n    }\n    return content.substring(0, maxLength) + '...';\n  };\n\n  // Function to select a random story for recommendation\n  const getRandomStory = () => {\n    const randomIndex = Math.floor(Math.random() * stories.length);\n    return stories[randomIndex];\n  };\n\n  // Set a random recommended story on component mount\n  useEffect(() => {\n    setRecommendedStory(getRandomStory());\n  }, [stories]);\n\n  return (\n    <div className=\" bg-violet-50 h-full border-t-0 p-2 flex flex-col\">\n      <label htmlFor=\"typeFilter\" className=\"block text-gray-700 text-sm p-1\">\n        Topic:\n      </label>\n      <select\n        id=\"typeFilter\"\n        value={selectedType}\n        onChange={(e) => setSelectedType(e.target.value)}\n        className=\"mb-2 p-1 h-10 border-2 rounded w-full bg-gray-200 custom-select items-center text-base\"\n      >\n        {articleTypes.map(type => (\n          <option key={type} value={type}>{type}</option>\n        ))}\n      </select>\n\n      <ul className='leading-0 flex-grow'>\n        {filteredStories.map((story) => (\n          <button key={story.title} onClick={() => onSelectPost(story.title)} className=\"p-1 text-base block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300\">\n            <div className='flex items-center p-1 font-bold'>\n              <div className=\"w-2.5 h-2.5 bg-violet-400 rounded-full mr-2\"></div>\n              <div>\n                <div\n                  className=\"text-slate-900 w-full h-2.5 hover:underline\"\n                >\n                  {story.title}\n                </div>\n              </div>\n            </div>\n            <div className='flex p-1'>\n              <div className=\"w-2.5 h-2.5 bg-violet-50 rounded-full mr-2\"></div>\n              <p className=\"text-sm text-left text-gray-900\">\n                {truncateContent(story.content, 60)} {/* Adjust the maxLength as needed */}\n              </p>\n            </div>\n          </button>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Sidebar;\n"],"names":[],"mappings":";;;;AAAA;;;;AASA,MAAM,UAAkC,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAgB;IAEvE,yBAAyB;IACzB,MAAM,eAAe;QAAC;WAAU,IAAI,IAAI,QAAQ,GAAG,CAAC,CAAA,QAAS,MAAM,KAAK;KAAG;IAE3E,kCAAkC;IAClC,MAAM,kBAAkB,iBAAiB,QACrC,UACA,QAAQ,MAAM,CAAC,CAAA,QAAS,MAAM,KAAK,KAAK;IAE5C,sCAAsC;IACtC,MAAM,kBAAkB,CAAC,SAAiB;QACxC,IAAI,QAAQ,MAAM,IAAI,WAAW;YAC/B,OAAO;QACT;QACA,OAAO,QAAQ,SAAS,CAAC,GAAG,aAAa;IAC3C;IAEA,uDAAuD;IACvD,MAAM,iBAAiB;QACrB,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,QAAQ,MAAM;QAC7D,OAAO,OAAO,CAAC,YAAY;IAC7B;IAEA,oDAAoD;IACpD,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,oBAAoB;IACtB,GAAG;QAAC;KAAQ;IAEZ,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAM,SAAQ;gBAAa,WAAU;0BAAkC;;;;;;0BAGxE,6WAAC;gBACC,IAAG;gBACH,OAAO;gBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gBAC/C,WAAU;0BAET,aAAa,GAAG,CAAC,CAAA,qBAChB,6WAAC;wBAAkB,OAAO;kCAAO;uBAApB;;;;;;;;;;0BAIjB,6WAAC;gBAAG,WAAU;0BACX,gBAAgB,GAAG,CAAC,CAAC,sBACpB,6WAAC;wBAAyB,SAAS,IAAM,aAAa,MAAM,KAAK;wBAAG,WAAU;;0CAC5E,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;wCAAI,WAAU;;;;;;kDACf,6WAAC;kDACC,cAAA,6WAAC;4CACC,WAAU;sDAET,MAAM,KAAK;;;;;;;;;;;;;;;;;0CAIlB,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;wCAAI,WAAU;;;;;;kDACf,6WAAC;wCAAE,WAAU;;4CACV,gBAAgB,MAAM,OAAO,EAAE;4CAAI;;;;;;;;;;;;;;uBAd7B,MAAM,KAAK;;;;;;;;;;;;;;;;AAsBlC;uCAEe","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///Users/zelin/project/adminx/src/app/blog/components/story.tsx"],"sourcesContent":["\nimport React from 'react';\nimport Markdown  from 'react-markdown';\nimport remarkGfm from 'remark-gfm'\nimport './story.css';\nimport { Story } from '@/lib/posts';\n\nconst BlogStory: React.FC<Story> = ({ title, content, date }) => {\n  return (\n    <div className=\" h-full pl-4 pt-2 justify-center\">\n      <div className=\"font-bold text-7xl flex text-indigo-900 pb-4\" >{title}</div>\n      <p className=\"text-gray-900 font-medium flex pt-2 pb-2\">{date}</p>\n      <div className='markdown-body pt-4 '>\n        <Markdown remarkPlugins={[[remarkGfm]]}>\n          {content}\n        </Markdown>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogStory;\n"],"names":[],"mappings":";;;;AAEA;AACA;;;;;AAIA,MAAM,YAA6B,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE;IAC1D,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAI,WAAU;0BAAiD;;;;;;0BAChE,6WAAC;gBAAE,WAAU;0BAA4C;;;;;;0BACzD,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC,gTAAA,CAAA,UAAQ;oBAAC,eAAe;wBAAC;4BAAC,uMAAA,CAAA,UAAS;yBAAC;qBAAC;8BACnC;;;;;;;;;;;;;;;;;AAKX;uCAEe","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///Users/zelin/project/adminx/src/lib/posts.ts"],"sourcesContent":["'use server';\nimport fs from 'fs/promises';\nimport path from 'path';\n\nexport interface Story {\n  title: string;\n  content: string;\n  date: string;\n  topic: string;\n}\n\nexport async function getMarkdownFiles(): Promise<Story[]> {\n  const postsDirectory = path.join(process.cwd(), 'src/app/blog/stories');\n  const fileNames = await fs.readdir(postsDirectory);\n\n  const allPostsData: Story[] = await Promise.all(\n    fileNames.map(async (fileName) => {\n      const fullPath = path.join(postsDirectory, fileName);\n      const fileContents = await fs.readFile(fullPath, 'utf8');\n\n      const lines = fileContents.split('\\n');\n      const date = lines[0] || '';\n      const topic = lines[1] || '';\n      const content = lines.slice(2).join('\\n');\n\n      return {\n        title: fileName.replace(/\\.md$/, '').replaceAll('_', ' '),\n        content,\n        date,\n        topic,\n      };\n    })\n  );\n\n  allPostsData.sort((a, b) => {\n    const toDate = (d: string) => new Date(+d.slice(0,4), +d.slice(4,6)-1, +d.slice(6,8));\n    return toDate(b.date).getTime() - toDate(a.date).getTime();\n  });\n\n  return allPostsData;\n}\n"],"names":[],"mappings":";;;;;;IAWsB,mBAAA,WAAA,GAAA,CAAA,GAAA,qVAAA,CAAA,wBAAA,EAAA,8CAAA,qVAAA,CAAA,aAAA,EAAA,KAAA,GAAA,qVAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///Users/zelin/project/adminx/src/app/blog/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport Sidebar from './components/sidebar';\nimport BlogStory from './components/story';\nimport './scroll.css';\nimport { getMarkdownFiles, Story } from '@/lib/posts';\n\n\nconst mainpage: Story = {\n  title: 'Welcome to my playground!!',\n  date: '2024/7/12',\n  topic: 'Mainpage',\n  content: \n  `\n  This is a place where I write some stories about technology, personal... or lifestyle\n  \n  This is also a place I'll be experimenting with new technologies and learning about the world around me.\n  `\n}\n\nconst BlogPage = () => {\n  const [stories, setArticles] = useState<Story[]>([]);\n  const [selectedPost, setSelectedPost] = useState<Story | null>(null);\n\n  useEffect(() => {\n    const fetchArticles = async () => {\n      const loadedArticles = await getMarkdownFiles();\n      setArticles(loadedArticles);\n    };\n\n    fetchArticles();\n  }, []);\n\n  const handleSelectPost = (title: string) => {\n    const post = stories.find((story) => story.title === title);\n    if (post) {\n      setSelectedPost(post);\n    }\n  };\n\n  return (\n    <div className=\"flex w-full h-full\">\n      <div className=\"flex h-full w-full\">\n        <div className=\" w-1/4 h-full overflow-y-auto bg-violet-50\"> \n          <Sidebar stories={stories} onSelectPost={handleSelectPost} />\n        </div>\n        <div className=\"p-4 w-full bg-yellow-50 overflow-y-auto\">\n          {selectedPost ? (\n            <BlogStory\n              title={selectedPost.title}\n              content={selectedPost.content}\n              date={selectedPost.date}\n              topic={selectedPost.topic}\n            />\n          ) : (\n            <BlogStory\n              title={mainpage.title}\n              content={mainpage.content}\n              date={mainpage.date}\n              topic={mainpage.topic}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogPage;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAEA;AALA;;;;;;;AAQA,MAAM,WAAkB;IACtB,OAAO;IACP,MAAM;IACN,OAAO;IACP,SACA,CAAC;;;;EAID,CAAC;AACH;AAEA,MAAM,WAAW;IACf,MAAM,CAAC,SAAS,YAAY,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAgB;IAE/D,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,MAAM,iBAAiB,MAAM,CAAA,GAAA,kJAAA,CAAA,mBAAgB,AAAD;YAC5C,YAAY;QACd;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,QAAQ,IAAI,CAAC,CAAC,QAAU,MAAM,KAAK,KAAK;QACrD,IAAI,MAAM;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;oBAAI,WAAU;8BACb,cAAA,6WAAC,4IAAA,CAAA,UAAO;wBAAC,SAAS;wBAAS,cAAc;;;;;;;;;;;8BAE3C,6WAAC;oBAAI,WAAU;8BACZ,6BACC,6WAAC,0IAAA,CAAA,UAAS;wBACR,OAAO,aAAa,KAAK;wBACzB,SAAS,aAAa,OAAO;wBAC7B,MAAM,aAAa,IAAI;wBACvB,OAAO,aAAa,KAAK;;;;;6CAG3B,6WAAC,0IAAA,CAAA,UAAS;wBACR,OAAO,SAAS,KAAK;wBACrB,SAAS,SAAS,OAAO;wBACzB,MAAM,SAAS,IAAI;wBACnB,OAAO,SAAS,KAAK;;;;;;;;;;;;;;;;;;;;;;AAOnC;uCAEe","debugId":null}}]
}